import{a as G,c as H,o as J,b as K,d as P}from"./index-bVW4JEgj.js";import{d as Q,r as g,B as W,e as r,c as x,o as _,b as e,w as t,k as n,t as k,h as p,F as v,y as S,q as C,N as X,O as i}from"./index-CDtMGLGq.js";const te=Q({__name:"index",setup(Y){const h=g([]),z=g(0),b=g(10),D=g(1);let w=g(!1),d=g();const m=async()=>{const o=await G(D.value,b.value);o.code===200?(h.value=o.data.records,z.value=o.data.total):i.error("获取sku列表失败")};W(()=>{m()});const B=o=>{b.value=o,m()},I=o=>{D.value=o,m()},L=async o=>{o.isSale===1?(await H(o.id)).code===200?(i.success("下架成功"),m()):i.error("下架失败"):(await J(o.id)).code===200?(i.success("上架成功"),m()):i.error("上架失败")},A=()=>{i.success("该功能正在加紧开发中...")},E=async o=>{w.value=!0;let a=await K(o);a.code===200?d.value=a.data:i.error("获取sku详情失败")},F=async o=>{(await P(o)).code===200?(i.success("删除成功"),m()):i.error("删除失败")};return(o,a)=>{const c=r("el-table-column"),N=r("el-image"),y=r("el-button"),M=r("el-popconfirm"),O=r("el-table"),T=r("el-pagination"),U=r("el-card"),s=r("el-col"),f=r("el-row"),V=r("el-tag"),$=r("el-carousel-item"),j=r("el-carousel"),q=r("el-drawer");return _(),x("div",null,[e(U,{shadow:"always"},{default:t(()=>[e(O,{data:h.value,border:"",stripe:""},{default:t(()=>[e(c,{type:"index",label:"序号",width:"80px"}),e(c,{prop:"skuName",label:"名称",width:"200px"}),e(c,{prop:"skuDesc",label:"描述",width:"200px"}),e(c,{label:"图片",width:"200px"},{default:t(l=>[e(N,{style:{width:"100px",height:"100px"},src:l.row.skuDefaultImg,fit:"cover"},null,8,["src"])]),_:1}),e(c,{prop:"weight",label:"重量（g）",width:"200px"}),e(c,{prop:"price",label:"价格（元）",width:"200px"}),e(c,{label:"操作",fixed:"right",width:"260px"},{default:t(l=>[e(y,{type:"success",size:"default",icon:l.row.isSale===1?"Top":"Bottom",onClick:u=>L(l.row)},null,8,["icon","onClick"]),e(y,{type:"primary",size:"default",icon:"Edit",onClick:A}),e(y,{type:"info",size:"default",icon:"InfoFilled",onClick:u=>E(l.row.id)},null,8,["onClick"]),e(M,{title:"确定删除该商品吗？",onConfirm:u=>F(l.row.id)},{reference:t(()=>[e(y,{type:"danger",size:"default",icon:"Delete"})]),_:2},1032,["onConfirm"])]),_:1})]),_:1},8,["data"]),e(T,{onSizeChange:B,onCurrentChange:I,"page-sizes":[10,20,30,40],"page-size":b.value,layout:"prev, pager, next, jumper, ->, sizes, total",total:z.value,background:""},{default:t(()=>a[1]||(a[1]=[n(' :pager-count="7"> ')])),_:1},8,["page-size","total"])]),_:1}),e(q,{title:"查看商品详情",modelValue:p(w),"onUpdate:modelValue":a[0]||(a[0]=l=>X(w)?w.value=l:w=l),"destroy-on-close":!0,"show-close":!0,wrapperClosable:!0},{default:t(()=>[e(f,{style:{"margin-bottom":"10px"}},{default:t(()=>[e(s,{span:6},{default:t(()=>a[2]||(a[2]=[n("名称")])),_:1}),e(s,{span:18},{default:t(()=>{var l;return[n(k((l=p(d))==null?void 0:l.skuName),1)]}),_:1})]),_:1}),e(f,{style:{"margin-bottom":"10px"}},{default:t(()=>[e(s,{span:6},{default:t(()=>a[3]||(a[3]=[n("描述")])),_:1}),e(s,{span:18},{default:t(()=>{var l;return[n(k((l=p(d))==null?void 0:l.skuDesc),1)]}),_:1})]),_:1}),e(f,{style:{"margin-bottom":"10px"}},{default:t(()=>[e(s,{span:6},{default:t(()=>a[4]||(a[4]=[n("价格（元）")])),_:1}),e(s,{span:18},{default:t(()=>{var l;return[n(k((l=p(d))==null?void 0:l.price),1)]}),_:1})]),_:1}),e(f,{style:{"margin-bottom":"10px"}},{default:t(()=>[e(s,{span:6},{default:t(()=>a[5]||(a[5]=[n("重量（g）")])),_:1}),e(s,{span:18},{default:t(()=>{var l;return[n(k((l=p(d))==null?void 0:l.weight),1)]}),_:1})]),_:1}),e(f,{style:{"margin-bottom":"10px"}},{default:t(()=>[e(s,{span:6},{default:t(()=>a[6]||(a[6]=[n("平台属性")])),_:1}),e(s,{span:18},{default:t(()=>{var l;return[(_(!0),x(v,null,S((l=p(d))==null?void 0:l.skuAttrValueList,u=>(_(),C(V,{key:u.id,style:{"margin-right":"10px"}},{default:t(()=>[n(k(u.valueName),1)]),_:2},1024))),128))]}),_:1})]),_:1}),e(f,{style:{"margin-bottom":"10px"}},{default:t(()=>[e(s,{span:6},{default:t(()=>a[7]||(a[7]=[n("销售属性")])),_:1}),e(s,{span:18},{default:t(()=>{var l;return[(_(!0),x(v,null,S((l=p(d))==null?void 0:l.skuSaleAttrValueList,u=>(_(),C(V,{key:u.id,style:{"margin-right":"10px"}},{default:t(()=>[n(k(u.saleAttrValueName),1)]),_:2},1024))),128))]}),_:1})]),_:1}),e(f,null,{default:t(()=>[e(s,{span:6},{default:t(()=>a[8]||(a[8]=[n("商品图片")])),_:1}),e(s,{span:18},{default:t(()=>[e(j,{height:"150px",type:"card",direction:"horizontal","initial-index":0,autoplay:!0,interval:3e3,loop:!0,trigger:"hover","indicator-position":"outside",arrow:"hover"},{default:t(()=>{var l;return[(_(!0),x(v,null,S((l=p(d))==null?void 0:l.skuImageList,(u,R)=>(_(),C($,{key:R},{default:t(()=>[e(N,{style:{width:"100px",height:"100px"},src:u.imgUrl,fit:"cover"},null,8,["src"])]),_:2},1024))),128))]}),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}});export{te as default};
