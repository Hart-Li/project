import{d as h,u as B,r as f,a as C,c as I,b as o,w as a,e as r,f as N,g as R,o as S,h as s,i as _,j as q,l as E,k as F,E as d,_ as L}from"./index-CDtMGLGq.js";import{g as U}from"./time-CoWUCDVO.js";import{p as H,u as T}from"./user-K8Os8YIe.js";const j={class:"login_container"},z=h({__name:"index",setup(A){const g=B(),w=N(),v=R(),m=f();let n=f(!1),t=C({username:"admin",password:"111111"});function x(){n.value=!0,m.value.validate().then(()=>{g.userLogin({username:t.username,password:t.password}).then(()=>{n.value=!1,w.push({path:v.query.redirect||"/"});const l=U();d({title:"HI, "+l,message:"欢迎回来",type:"success"})}).catch(l=>{n.value=!1,d({title:"登录失败",message:l.message,type:"error"})})}).catch(()=>{n.value=!1,d({title:"登录失败",message:"请检查字段是否合法",type:"error"})})}const V={username:[{required:!0,validator:T,trigger:"change"}],password:[{required:!0,validator:H,trigger:"change"}]};return(l,e)=>{const p=r("el-col"),c=r("el-input"),u=r("el-form-item"),k=r("el-button"),y=r("el-form"),b=r("el-row");return S(),I("div",j,[o(b,null,{default:a(()=>[o(p,{span:12,xs:0}),o(p,{span:12,xs:24},{default:a(()=>[o(y,{class:"login_form",ref_key:"loginFormRef",ref:m,model:s(t),rules:V,"status-icon":""},{default:a(()=>[e[3]||(e[3]=_("h1",null,"Hello",-1)),e[4]||(e[4]=_("h2",null,"欢迎来到后台管理系统",-1)),o(u,{prop:"username"},{default:a(()=>[o(c,{modelValue:s(t).username,"onUpdate:modelValue":e[0]||(e[0]=i=>s(t).username=i),"prefix-icon":s(q),autofocus:""},null,8,["modelValue","prefix-icon"])]),_:1}),o(u,{prop:"password"},{default:a(()=>[o(c,{type:"password",modelValue:s(t).password,"onUpdate:modelValue":e[1]||(e[1]=i=>s(t).password=i),"show-password":"","prefix-icon":s(E)},null,8,["modelValue","prefix-icon"])]),_:1}),o(u,null,{default:a(()=>[o(k,{loading:s(n),class:"login_btn",onClick:x,round:""},{default:a(()=>e[2]||(e[2]=[F(" 登录 ")])),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})])}}}),K=L(z,[["__scopeId","data-v-e5b8eef0"]]);export{K as default};
