import{d as b,c as i,m as g,h as r,s as E,i as u,t as k,o as l,_ as L,n as W,r as A,p as j,b as t,e as a,w as o,T as G,q as p,v as S,x as J,F as C,y as O,f as Q,k as y,g as B,z as X,A as Y,u as H,B as Z,C as F,D as I}from"./index-CDtMGLGq.js";const ee={key:0,class:"logo"},te=["src"],oe={name:"Logo"},ne=b({...oe,setup(_){return(n,s)=>r(E).logoHidden?g("",!0):(l(),i("div",ee,[u("img",{src:r(E).logo},null,8,te),u("p",null,k(r(E).title),1)]))}}),le=L(ne,[["__scopeId","data-v-6e22009a"]]),V="THEME_COLOR",M="DARK_SWITCH",$=W("Setting",{state:()=>({isCollapse:!1,refresh:!1,themeColor:localStorage.getItem(V)||"rgba(255, 69, 0, 0.68)",darkSwitch:localStorage.getItem(M)==="true"}),actions:{setThemeColor(_){this.themeColor=_,localStorage.setItem(V,_)},setDarkSwitch(_){this.darkSwitch=_,localStorage.setItem(M,_.toString())}},getters:{}}),se={name:"MainLayout"},ae=b({...se,setup(_){const n=A(!0),s=$();return j(()=>s.refresh,c=>{c&&(n.value=!1,J(()=>{n.value=!0,s.refresh=!1}))}),(c,w)=>{const h=a("router-view");return l(),i("div",null,[t(h,null,{default:o(({Component:d})=>[t(G,{name:"fade"},{default:o(()=>[n.value?(l(),p(S(d),{key:0})):g("",!0)]),_:2},1024)]),_:1})])}}}),re=L(ae,[["__scopeId","data-v-5099c6e1"]]),ce={name:"CustomMenu"},ue=b({...ce,props:["menuList"],setup(_){const n=Q(),s=c=>{n.push(c.index)};return(c,w)=>{const h=a("el-icon"),d=a("el-menu-item"),f=a("CustomMenu"),x=a("el-sub-menu");return l(!0),i(C,null,O(_.menuList,e=>(l(),i(C,{key:e.path},[e.children?g("",!0):(l(),i(C,{key:0},[e.meta.hidden?g("",!0):(l(),p(d,{key:0,onClick:s,index:e.path},{title:o(()=>[y(k(e.meta.title),1)]),default:o(()=>[t(h,null,{default:o(()=>[(l(),p(S(e.meta.icon)))]),_:2},1024)]),_:2},1032,["index"]))],64)),e.children&&e.children.length===1?(l(),i(C,{key:1},[e.children[0].meta.hidden?g("",!0):(l(),p(d,{key:0,onClick:s,index:e.children[0].path},{title:o(()=>[y(k(e.children[0].meta.title),1)]),default:o(()=>[t(h,null,{default:o(()=>[(l(),p(S(e.children[0].meta.icon)))]),_:2},1024)]),_:2},1032,["index"]))],64)):g("",!0),e.children&&e.children.length>1?(l(),i(C,{key:2},[e.meta.hidden?g("",!0):(l(),p(x,{key:0,index:e.path},{title:o(()=>[t(h,null,{default:o(()=>[(l(),p(S(e.meta.icon)))]),_:2},1024),u("span",null,k(e.meta.title),1)]),default:o(()=>[t(f,{"menu-list":e.children},null,8,["menu-list"])]),_:2},1032,["index"]))],64)):g("",!0)],64))),128)}}}),_e={class:"breadcrumb-item-content"},de={name:"TabbarLeft"},ie=b({...de,setup(_){const n=B(),s=$(),c=()=>{s.isCollapse=!s.isCollapse};return(w,h)=>{const d=a("el-icon"),f=a("el-breadcrumb-item"),x=a("el-breadcrumb");return l(),i(C,null,[t(d,{onClick:c,size:"32",style:{"margin-right":"10px"}},{default:o(()=>[(l(),p(S(r(s).isCollapse?"Fold":"Expand")))]),_:1}),t(x,{"separator-icon":"ArrowRight"},{default:o(()=>[(l(!0),i(C,null,O(r(n).matched,(e,T)=>X((l(),p(f,{key:T,to:{path:`${e.path}`}},{default:o(()=>[u("div",_e,[t(d,null,{default:o(()=>[(l(),p(S(e.meta.icon)))]),_:2},1024),u("span",null,k(e.meta.title),1)])]),_:2},1032,["to"])),[[Y,e.meta.title]])),128))]),_:1})],64)}}}),me=L(ie,[["__scopeId","data-v-2cd75595"]]),pe=["src"],he={class:"el-dropdown-link"},fe={name:"TabbarRight"},ge=b({...fe,setup(_){const n=$(),s=H(),c=()=>{n.refresh||(n.refresh=!0)},w=()=>{document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen()},h=async()=>{await s.userLogout(),F.push({path:"/login",query:{redirect:F.currentRoute.value.fullPath}})},d=()=>{document.documentElement.style.setProperty("--el-color-primary",n.themeColor)},f=()=>{document.documentElement.className=n.darkSwitch?"dark":""};Z(()=>{d(),f()});const x=A(["#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585","rgba(255, 69, 0, 0.68)","rgb(255, 120, 0)","hsv(51, 100, 98)","hsva(120, 40, 94, 0.5)","hsl(181, 100%, 37%)","hsla(209, 100%, 56%, 0.73)","#c7158577"]),e=v=>{console.log(v),n.setThemeColor(v),d()},T=v=>{n.setDarkSwitch(v),f()};return(v,m)=>{const R=a("el-button"),N=a("el-color-picker"),q=a("el-switch"),z=a("el-popover"),U=a("el-dropdown-item"),K=a("el-dropdown-menu"),P=a("el-dropdown");return l(),i(C,null,[t(R,{icon:"Refresh",circle:"",onClick:c}),t(R,{icon:"FullScreen",circle:"",onClick:w}),t(z,{placement:"bottom",title:"系统配置",width:400,trigger:"click"},{reference:o(()=>[t(R,{icon:"Setting",circle:""})]),default:o(()=>[u("div",null,[m[2]||(m[2]=y(" 主题设置： ")),t(N,{modelValue:r(n).themeColor,"onUpdate:modelValue":m[0]||(m[0]=D=>r(n).themeColor=D),predefine:x.value,"show-alpha":!0,onActiveChange:e},null,8,["modelValue","predefine"])]),u("div",null,[m[3]||(m[3]=y(" 暗黑模式: ")),t(q,{modelValue:r(n).darkSwitch,"onUpdate:modelValue":m[1]||(m[1]=D=>r(n).darkSwitch=D),"active-value":!0,"inactive-value":!1,onChange:T},null,8,["modelValue"])])]),_:1}),u("img",{src:r(s).avatar,style:{width:"32px",height:"32px",margin:"0 10px","border-radius":"50%"}},null,8,pe),t(P,null,{dropdown:o(()=>[t(K,null,{default:o(()=>[t(U,{onClick:h},{default:o(()=>m[4]||(m[4]=[y("退出登录")])),_:1})]),_:1})]),default:o(()=>[u("span",he,k(r(s).username),1)]),_:1})],64)}}}),Ce={class:"tabbar"},be={class:"tabbar_left"},ve={class:"tabbar_right"},ke={name:"Tabbar"},Se=b({...ke,setup(_){return(n,s)=>(l(),i("div",Ce,[u("div",be,[t(me)]),u("div",ve,[t(ge)])]))}}),we=L(Se,[["__scopeId","data-v-175e51bd"]]),xe={class:"layout_container"},ye={name:"Layout"},Le=b({...ye,setup(_){const n=B(),s=H(),c=$();return(w,h)=>{const d=a("el-menu"),f=a("el-scrollbar");return l(),i("div",xe,[u("div",{class:I(["layout_slider",r(c).isCollapse?"fold":""])},[t(le),t(f,{class:"scrollbar"},{default:o(()=>[t(d,{"background-color":"#001529","text-color":"#fff",collapse:r(c).isCollapse,"default-active":r(n).path},{default:o(()=>[t(ue,{menuList:r(s).menuRoutes},null,8,["menuList"])]),_:1},8,["collapse","default-active"])]),_:1})],2),u("div",{class:I(["layout_tabbar",r(c).isCollapse?"fold":""])},[t(we)],2),u("div",{class:I(["layout_main",r(c).isCollapse?"fold":""])},[t(re)],2)])}}}),Te=L(Le,[["__scopeId","data-v-368ae217"]]);export{Te as default};
